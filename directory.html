<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>업체 목록 - 밴쿠버 한인 업체 목록</title>
    <meta
      name="description"
      content="밴쿠버 한인 비즈니스 디렉토리의 전체 업체 목록. 카테고리별, 지역별로 검색하고 필터링할 수 있습니다."
    />
    <meta name="keywords" content="밴쿠버 한인업체, 업체목록, 한인마트, 한인음식점, 한인병원, 검색" />
    <link rel="canonical" href="https://nefertt.github.io/Vancouver-Korean-Business-Directory/directory.html" />
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nefertt.github.io/Vancouver-Korean-Business-Directory/directory.html" />
    <meta property="og:title" content="업체 목록 - 밴쿠버 한인 업체 목록" />
    <meta
      property="og:description"
      content="밴쿠버 한인 비즈니스 디렉토리의 전체 업체 목록. 카테고리별, 지역별로 검색하세요."
    />
    <meta
      property="og:image"
      content="https://images.unsplash.com/photo-1552664730-d307ca884978?w=1200&h=630&fit=crop"
    />
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="업체 목록 - 밴쿠버 한인 업체 목록" />
    <meta
      name="twitter:description"
      content="밴쿠버 한인 비즈니스 디렉토리의 전체 업체 목록. 카테고리별, 지역별로 검색하세요."
    />
    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🏪</text></svg>"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="stylesheet" href="styles/directory.css" />
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-33EN2Y3FC9"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-33EN2Y3FC9');
    </script>
    <!-- 공통 Navbar 로드 -->
    <script src="scripts/loadNavbar.js"></script>
  </head>
  <body>
    <!-- Navbar (동적으로 로드) -->
    <div id="navbar-placeholder"></div>

    <!-- Search & Filters Section -->
    <section class="search-filters">
      <div class="container">
        <div class="search-section">
          <div class="search-container">
            <input type="text" class="search-input" placeholder="업체명 · 업종 · 지역 검색" id="mainSearch" />
            <button class="search-btn" id="search-button">검색</button>
          </div>
        </div>

        <div class="filters-section">
          <div class="filter-group">
            <h4 id="filter-category">카테고리</h4>
            <div class="category-chips">
              <button class="filter-chip active" data-category="all">전체</button>
              <button class="filter-chip" data-category="restaurant">🍜 음식점</button>
              <button class="filter-chip" data-category="grocery">🛒 마트</button>
              <button class="filter-chip" data-category="medical">🏥 병원</button>
              <button class="filter-chip" data-category="legal">⚖️ 법률/회계</button>
              <button class="filter-chip" data-category="realestate">🏠 부동산</button>
              <button class="filter-chip" data-category="beauty">💇 미용</button>
              <button class="filter-chip" data-category="education">🎓 학원</button>
            </div>
          </div>

          <div class="filter-group">
            <div class="dropdown-filters">
              <select class="filter-dropdown" id="areaFilter">
                <option value="all">전체 지역</option>
                <option value="downtown">다운타운</option>
                <option value="burnaby">버나비</option>
                <option value="coquitlam">코퀴틀람</option>
                <option value="richmond">리치몬드</option>
                <option value="surrey">서리</option>
                <option value="vancouver">밴쿠버</option>
              </select>

              <select class="filter-dropdown" id="sortFilter">
                <option value="latest">최신순</option>
                <option value="popular">인기순</option>
                <option value="rating">평점순</option>
                <option value="name">가나다순</option>
              </select>
            </div>

            <div class="toggle-filter">
              <label class="toggle-label">
                <input type="checkbox" id="openOnly" />
                <span class="toggle-slider"></span>
                영업중만 보기
              </label>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <div class="content-layout">
          <!-- Sidebar (Desktop Only) -->
          <aside class="sidebar">
            <div class="sidebar-section">
              <h4>카테고리 필터</h4>
              <div class="checkbox-filters">
                <label class="checkbox-label">
                  <input type="checkbox" data-category="restaurant" checked />
                  <span>🍜 음식점</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-category="grocery" checked />
                  <span>🛒 마트</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-category="medical" checked />
                  <span>🏥 병원</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-category="legal" checked />
                  <span>⚖️ 법률/회계</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-category="realestate" checked />
                  <span>🏠 부동산</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-category="beauty" checked />
                  <span>💇 미용</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-category="education" checked />
                  <span>🎓 학원</span>
                </label>
              </div>
            </div>

            <div class="sidebar-section">
              <h4>지역 필터</h4>
              <div class="checkbox-filters">
                <label class="checkbox-label">
                  <input type="checkbox" data-area="downtown" checked />
                  <span>다운타운</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-area="burnaby" checked />
                  <span>버나비</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-area="coquitlam" checked />
                  <span>코퀴틀람</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-area="richmond" checked />
                  <span>리치몬드</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-area="surrey" checked />
                  <span>서리</span>
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" data-area="vancouver" checked />
                  <span>밴쿠버</span>
                </label>
              </div>
            </div>

            <div class="sidebar-section">
              <h4>추천 업체</h4>
              <div class="recommended-business">
                <img
                  src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=150&h=100&fit=crop"
                  alt="Recommended"
                />
                <div class="recommended-info">
                  <h5>한솥도시락</h5>
                  <p>🍜 음식점</p>
                  <span class="rating">★4.5</span>
                </div>
              </div>
            </div>
          </aside>

          <!-- Business List -->
          <section class="business-list">
            <div class="list-header">
              <h2 id="list-title">업체 목록</h2>
              <span class="result-count">총 <span id="resultCount">24</span>개 업체</span>
            </div>

            <div class="business-cards" id="businessCards">
              <!-- Business cards will be populated by JavaScript -->
            </div>

            <div class="load-more">
              <button class="load-more-btn" id="load-more">더 보기</button>
            </div>
          </section>
        </div>
      </div>
    </main>

    <!-- Map Switch CTA -->
    <button class="map-cta-btn" id="mapCtaBtn">
      <span class="map-icon">📍</span>
      <span id="map-cta">지도에서 보기</span>
    </button>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollToTop" title="맨 위로 가기">↑</button>

    <!-- Footer (동적으로 로드) -->
    <div id="footer-placeholder"></div>

    <script src="scripts/script.js"></script>
    <script src="scripts/directory.js"></script>
    <script src="scripts/i18n.js"></script>
    <script src="scripts/pageInit.js"></script>
    <!-- 공통 Theme 로드 -->
    <script src="scripts/loadTheme.js"></script>
    <!-- 공통 Footer 로드 -->
    <script src="scripts/loadFooter.js"></script>
    <!-- 공통 기능 (스크롤 to top 등) -->
    <script src="scripts/initScrollToTop.js"></script>
    <script>
      // directory 전용: placeholder 및 버튼 텍스트 동기화
      document.addEventListener('DOMContentLoaded', function () {
        function applyDirectoryTexts(lang) {
          if (window.I18N && typeof window.I18N.applyPage === 'function') {
            window.I18N.applyPage(lang, 'directory');
          }
          const searchInput = document.getElementById('mainSearch');
          if (searchInput && window.I18N && typeof window.I18N.get === 'function') {
            searchInput.placeholder =
              window.I18N.get(lang, 'directory', 'search-placeholder') || searchInput.placeholder;
          }
        }

        const savedLang = localStorage.getItem('language') || 'ko';
        setTimeout(() => applyDirectoryTexts(savedLang), 100);
        window.addEventListener('languagechange', function (e) {
          const lang = (e && e.detail && e.detail.language) || localStorage.getItem('language') || 'ko';
          setTimeout(() => applyDirectoryTexts(lang), 50);
        });
      });
    </script>
  </body>
</html>
